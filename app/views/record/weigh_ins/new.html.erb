<% content_for :head do %>
  <title><%= @competition.name %> | PowerLifter's Log</title>
<% end %>
<div class="hero min-h-screen bg-white">
  <div class="hero-content flex-col">
    <div class="items-center mx-auto max-w-80 min-w-80">
      <div class="mb-5 flex justify-center">
        <ul class="steps">
          <li class="step step-primary text-[10px] text-orange-600 font-bold">検量体重</li>
          <% unless @competition.category == "シングルベンチプレス" %>
            <li class="step text-[10px]">スクワット</li>
          <% end %>
          <li class="step text-[10px]">ベンチプレス</li>
          <% unless @competition.category == "シングルベンチプレス" %>
            <li class="step text-[10px]">デッドリフト</li>
          <% end %>
          <li class="step text-[10px]">振り返り<br>コメント</li>
        </ul>
      </div>
      <h1 class="text-2xl text-center mb-5 font-bold">検量体重登録</h1>
      <%= form_with model: @weigh_in, url: competition_weigh_in_path(@competition)  do |f| %>
        <div class="flex flex-col mb-5 border-dashed border-2 border-neutral-300 rounded-lg p-4">
          <div class="flex justify-between">
            <div class="label p-0 flex justify-start items-center">
              <%= f.label :weight, class: 'mr-2 font-semibold'%>
              <p class="text-red-500">(必須)</p>
            </div>
            <label class="form-control flex flex-row">
              <%= f.text_field :weight, class: 'input input-bordered input-sm rounded w-32 mr-2 text-base', placeholder:"検量体重", inputmode: "decimal"%>
              <span>kg</span>
            </label>
          </div>
          <%= render 'shared/error_messages', object: f.object, attribute: :weight %>
          <%= render 'shared/error_messages', object: f.object, attribute: :competition_id %>
        </div>
      <!-- ボタン -->
      <div class="form-control mt-6 flex flex-row justify-center">
        <div>
          <%= f.submit "次の種目へ", class: 'btn btn-accent btn-sm w-24' %>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</div>

